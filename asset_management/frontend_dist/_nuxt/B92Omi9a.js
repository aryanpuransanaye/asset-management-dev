import{_ as f,r as u,c as o,o as r,a as e,f as x,g,b as m,w as k,h as y,t as _,T as M,i as c,v as j,j as C,d as z,n as V}from"./BwLa1Iej.js";import{_ as p}from"./BVm_6fzA.js";import{a as B}from"./bE3RgOHv.js";import{u as S}from"./BBx8a8QP.js";const T={class:"min-h-screen relative flex items-center justify-center overflow-hidden bg-[#f0f5f9] dark:bg-[#101828] font-sans dir-rtl transition-colors duration-500"},L={class:"container mx-auto px-4 z-10"},N={class:"flex justify-center"},A={class:"w-full max-w-md relative"},D={class:"relative overflow-hidden backdrop-blur-3xl bg-white/40 dark:bg-white/[0.02] border border-white/60 dark:border-white/[0.05] rounded-[2rem] p-8 md:p-10 shadow-2xl shadow-blue-900/5 dark:shadow-none"},I={class:"relative z-20"},q={key:0,class:"bg-red-500/10 border border-red-500/20 text-red-600 dark:text-red-400 p-3 rounded-xl text-xs text-center font-bold"},F={class:"relative group"},H={class:"relative group"},U=["type"],E={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},P={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},W=["disabled"],G={key:0,class:"flex items-center gap-2"},J={key:1},K={__name:"index",setup(O){const w=S(),n=u("password"),a=u({username:"",password:""}),i=u(!1),l=u("");function v(){n.value=n.value==="password"?"text":"password"}async function b(){i.value=!0,l.value="";try{const s=await B.post("/api/token/",{username:a.value.username,password:a.value.password}),t=s.data?.access_token||s.data?.token||s.data?.access||s.data?.data?.access_token;if(t){localStorage.setItem("access_token",t),a.value.username&&localStorage.setItem("username",a.value.username);const{access_token:d,token:Q,access:R,permissions:X,...h}=s.data;w.saveLoginData(t,s.data?.permissions||[],h),await V("/dashboard")}else l.value="خطا: توکن معتبر دریافت نشد."}catch(s){l.value=s.response?.data?.detail||"نام کاربری یا رمز عبور اشتباه است"}finally{i.value=!1}}return(s,t)=>(r(),o("div",T,[t[9]||(t[9]=e("div",{class:"absolute top-[-5%] left-[-5%] w-[30vw] h-[30vw] bg-blue-500/10 dark:bg-blue-400/5 rounded-full blur-[100px]"},null,-1)),t[10]||(t[10]=e("div",{class:"absolute bottom-[-5%] right-[-5%] w-[30vw] h-[30vw] bg-blue-600/10 dark:bg-indigo-500/5 rounded-full blur-[100px]"},null,-1)),e("div",L,[e("div",N,[e("div",A,[e("div",D,[t[8]||(t[8]=e("div",{class:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-[0.06] dark:opacity-[0.08] grayscale select-none"},[e("img",{src:p,alt:"Watermark",class:"w-72 h-72 object-contain"})],-1)),e("div",I,[t[6]||(t[6]=x('<header class="text-center mb-8" data-v-ac67a059><div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-blue-600 shadow-lg shadow-blue-600/30 mb-5" data-v-ac67a059><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ac67a059><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-ac67a059></path></svg></div><h1 class="text-2xl font-black text-slate-800 dark:text-white" data-v-ac67a059>مدیریت دارایی‌ها</h1><p class="text-slate-500 dark:text-slate-400 text-sm mt-1" data-v-ac67a059>نام‌ کاربری و رمز عبور خود را وارد کنید</p></header>',1)),e("form",{onSubmit:g(b,["prevent"]),class:"space-y-5"},[m(M,{name:"fade"},{default:k(()=>[l.value?(r(),o("div",q,_(l.value),1)):y("",!0)]),_:1}),e("div",F,[c(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=d=>a.value.username=d),required:"",placeholder:"نام کاربری",class:"w-full px-5 py-4 bg-white/70 dark:bg-slate-900/60 border border-slate-200 dark:border-white/5 rounded-2xl text-slate-800 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white dark:focus:bg-[#0b1120] transition-all duration-300 text-right pr-4 pl-12"},null,512),[[j,a.value.username]]),t[2]||(t[2]=e("div",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))]),e("div",H,[c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>a.value.password=d),type:n.value,placeholder:"رمز عبور",required:"",class:"w-full px-5 py-4 bg-white/70 dark:bg-slate-900/60 border border-slate-200 dark:border-white/5 rounded-2xl text-slate-800 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white dark:focus:bg-[#0b1120] transition-all duration-300 text-right pr-4 pl-12"},null,8,U),[[C,a.value.password]]),e("button",{type:"button",onClick:v,class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-500 transition-colors"},[n.value==="password"?(r(),o("svg",E,[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 0 1 6 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])):(r(),o("svg",P,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])]))])]),e("button",{type:"submit",disabled:i.value,class:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-2xl shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 transform transition-all duration-300 active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2"},[i.value?(r(),o("span",G,[...t[5]||(t[5]=[e("svg",{class:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),z(" درحال بررسی... ",-1)])])):(r(),o("span",J,"ورود به سیستم"))],8,W)],32),t[7]||(t[7]=e("footer",{class:"mt-8 pt-6 border-t border-slate-200 dark:border-white/5 flex justify-center items-center gap-2"},[e("span",{class:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest"},"varkangroup"),e("img",{class:"w-5 h-5",src:p,alt:"Logo"})],-1))])])])])])]))}},te=f(K,[["__scopeId","data-v-ac67a059"]]);export{te as default};
