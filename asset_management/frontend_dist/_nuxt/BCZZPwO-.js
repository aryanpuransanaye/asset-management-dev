import{_ as N,A as S,r as l,p as D,c as o,o as a,a as e,f as $,b as L,w as M,e as F,i as m,v as H,D as y,F as v,C as w,t as n,h as k,y as T}from"./BwLa1Iej.js";import{a as h}from"./bE3RgOHv.js";import{S as I}from"./BQxta0Da.js";import{u as P}from"./DBTBYWdU.js";const q={class:"user-management-page w-full px-2 sm:px-4 py-6 min-h-screen text-gray-900 dark:text-gray-100",dir:"rtl"},E={class:"flex justify-between items-center mb-6 px-2"},G={class:"p-3 mb-6 rounded-2xl bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700"},J={class:"grid grid-cols-2 md:grid-cols-6 gap-2"},K={class:"col-span-2"},O={class:"flex items-center border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900 focus-within:ring-2 focus-within:ring-blue-500/50 transition-all"},Q=["value"],R=["value"],W={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden"},X={class:"overflow-x-auto custom-scrollbar"},Y={class:"w-full min-w-[900px] text-right"},ee={key:0,class:"divide-y divide-gray-100 dark:divide-gray-700"},te={class:"p-3 text-xs text-center font-bold text-gray-400"},se={class:"p-3 whitespace-nowrap"},re={class:"flex items-center"},oe={class:"w-10 h-10 shrink-0 bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-3xl flex items-center justify-center font-black text-sm ml-3 shadow-md border-2 border-white dark:border-gray-700"},ae={class:"font-black text-gray-900 dark:text-gray-100 text-sm tracking-tight"},ne={class:"text-[10px] text-blue-500 font-bold"},le={class:"p-3 whitespace-nowrap"},de={class:"text-xs font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md"},ie={class:"p-3 text-center whitespace-nowrap"},ce={class:"p-3 text-center whitespace-nowrap"},ue={key:0,class:"text-blue-600 dark:text-blue-400"},pe={key:1,class:"text-gray-300 dark:text-gray-600 text-xs"},xe={class:"p-3 whitespace-nowrap"},ge={class:"text-[11px] font-bold text-blue-600 dark:text-white"},be={class:"text-[10px] text-gray-500 font-medium mt-0.5"},me={class:"p-3"},ve={class:"flex flex-wrap gap-1 max-w-[180px]"},we={class:"p-3 whitespace-nowrap"},he={class:"flex justify-center gap-2"},fe=["onClick"],ye={key:0,class:"flex flex-col items-center justify-center py-12"},ke={key:1,class:"text-center py-12 text-gray-400"},_e={__name:"list",setup(Ce){const A=P(),_=S(()=>A.value==="dark"),c=l([]),u=l(!1),p=l(""),x=l(""),g=l(""),b=l(""),C=l([]),B=l([]),j=async()=>{try{const r=await h.get("accounts/groups-list/");C.value=r.data}catch(r){console.error(r)}},V=async()=>{try{const r=await h.get("accounts/permissions-list/");B.value=r.data}catch(r){console.error(r)}},d=async()=>{u.value=!0;try{const r=await h.get("accounts/users-list/",{params:{q:p.value,sort_by:x.value,groups:g.value||null,user_permissions:b.value||null}});c.value=r.data}catch(r){console.error(r)}finally{u.value=!1}},z=()=>{p.value="",x.value="",g.value="",b.value="",d()},U=async r=>{if((await I.fire({title:"Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±",text:`Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù "${r.username}" Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",confirmButtonText:"Ø¨Ù„Ù‡ØŒ Ø­Ø°Ù Ø´ÙˆØ¯",cancelButtonText:"Ø§Ù†ØµØ±Ø§Ù",background:_.value?"#1e1e1e":"#fff",color:_.value?"#fff":"#000"})).isConfirmed)try{await h.delete(`accounts/user-detail/${r.id}/`),c.value=c.value.filter(i=>i.id!==r.id)}catch(i){console.error(i)}};return D(async()=>{await Promise.all([j(),V()]),d()}),(r,t)=>{const i=F;return a(),o("div",q,[e("div",E,[t[5]||(t[5]=$('<h3 class="flex items-center text-xl sm:text-2xl font-extrabold m-0" data-v-8f22ebe7><span class="text-blue-600 ml-3 bg-blue-50 dark:bg-blue-900/30 p-2 rounded-lg" data-v-8f22ebe7><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-7 sm:size-8" data-v-8f22ebe7><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" data-v-8f22ebe7></path></svg></span><p class="text-gray-800 dark:text-white" data-v-8f22ebe7>Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</p></h3>',1)),L(i,{to:"/dashboard/system-setting/list/add-user-list"},{default:M(()=>[...t[4]||(t[4]=[e("button",{class:"flex items-center px-4 py-2 rounded-xl bg-blue-600 text-white text-sm font-bold hover:bg-blue-700 transition-all shadow-lg shadow-blue-500/20"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"size-5 ml-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})]),e("span",null,"Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯")],-1)])]),_:1})]),e("div",G,[e("div",J,[e("div",K,[e("div",O,[t[6]||(t[6]=e("span",{class:"pr-3 text-blue-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"size-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),onInput:d,class:"w-full p-2.5 bg-transparent outline-none text-sm font-medium",placeholder:"Ø¬Ø³ØªØ¬Ùˆ Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„..."},null,544),[[H,p.value]])])]),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s),onChange:d,class:"p-2.5 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-sm font-medium outline-none"},[...t[7]||(t[7]=[e("option",{value:""},"â‡… Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ",-1),e("option",{value:"created_at"},"Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†",-1),e("option",{value:"-created_at"},"Ù‚Ø¯ÛŒÙ…ÛŒâ€ŒØªØ±ÛŒÙ†",-1)])],544),[[y,x.value]]),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value=s),onChange:d,class:"p-2.5 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-sm font-medium outline-none"},[t[8]||(t[8]=e("option",{value:""},"ğŸ“ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§",-1)),(a(!0),o(v,null,w(C.value,s=>(a(),o("option",{key:s.id,value:s.id},n(s.name),9,Q))),128))],544),[[y,g.value]]),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>b.value=s),onChange:d,class:"p-2.5 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-sm font-medium outline-none"},[t[9]||(t[9]=e("option",{value:""},"ğŸ”‘ Ù…Ø¬ÙˆØ²Ù‡Ø§",-1)),(a(!0),o(v,null,w(B.value,s=>(a(),o("option",{key:s.id,value:s.id},n(s.name),9,R))),128))],544),[[y,b.value]]),e("button",{onClick:z,class:"py-2.5 rounded-xl border border-red-100 text-red-500 hover:bg-red-50 dark:border-red-900/30 dark:hover:bg-red-900/20 transition-all text-sm font-bold"}," Ø­Ø°Ù ÙÛŒÙ„ØªØ± ")])]),e("div",W,[e("div",X,[e("table",Y,[t[13]||(t[13]=e("thead",{class:"bg-gray-50/80 dark:bg-gray-900/80 border-b border-gray-200 dark:border-gray-700"},[e("tr",null,[e("th",{class:"w-12 p-4 text-[11px] font-black text-gray-400 text-center uppercase"},"#"),e("th",{class:"p-4 text-xs font-bold text-blue-600 dark:text-blue-400 whitespace-nowrap"},"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±"),e("th",{class:"p-4 text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap"},"Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ"),e("th",{class:"p-4 text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap text-center"},"ÙˆØ¶Ø¹ÛŒØª"),e("th",{class:"p-4 text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap text-center"},"Ø§Ø¯Ù…ÛŒÙ†"),e("th",{class:"p-4 text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap"},"ØªÙ…Ø§Ø³"),e("th",{class:"p-4 text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap"},"Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§"),e("th",{class:"w-28 p-4 text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap text-center"},"Ø¹Ù…Ù„ÛŒØ§Øª")])],-1)),u.value?k("",!0):(a(),o("tbody",ee,[(a(!0),o(v,null,w(c.value,(s,Z)=>(a(),o("tr",{key:s.id,class:"hover:bg-blue-50/40 dark:hover:bg-blue-900/10 transition-colors group"},[e("td",te,n(Z+1),1),e("td",se,[e("div",re,[e("div",oe,n(s.username.charAt(0).toUpperCase()),1),e("div",null,[e("div",ae,n(s.username),1),e("div",ne,n(s.first_name)+" "+n(s.last_name),1)])])]),e("td",le,[e("span",de,n(s.access_level_name||"-"),1)]),e("td",ie,[e("div",{class:T([s.is_active?"text-green-600 bg-green-50 dark:bg-green-900/30 border-green-100 dark:border-green-800":"text-red-600 bg-red-50 dark:bg-red-900/30 border-red-100 dark:border-red-800 dark:text-red-200","inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black border uppercase"])},n(s.is_active?"â— ÙØ¹Ø§Ù„":"â—‹ ØºÛŒØ±ÙØ¹Ø§Ù„"),3)]),e("td",ce,[s.is_staff?(a(),o("span",ue,[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-5 mx-auto"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.491 4.491 0 0 1-3.497-1.307 4.491 4.491 0 0 1-1.307-3.497A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})],-1)])])):(a(),o("span",pe,"-"))]),e("td",xe,[e("div",ge,n(s.email||"Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø¯Ø§Ø±Ø¯"),1),e("div",be,n(s.phone_number||"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ù†Ø¯Ø§Ø±Ø¯"),1)]),e("td",me,[e("div",ve,[(a(!0),o(v,null,w(s.groups,f=>(a(),o("span",{key:f.id,class:"px-2 py-0.5 rounded-md text-[9px] font-black bg-indigo-50 dark:bg-indigo-950/30 text-indigo-600 dark:text-white border border-indigo-100 dark:border-indigo-800 whitespace-nowrap"},n(f.name),1))),128))])]),e("td",we,[e("div",he,[L(i,{to:`/dashboard/system-setting/list/user-update/${s.id}`},{default:M(()=>[...t[11]||(t[11]=[e("button",{class:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 hover:bg-blue-600 hover:text-white transition-all shadow-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"size-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])],-1)])]),_:1},8,["to"]),e("button",{onClick:f=>U(s),class:"p-2 rounded-lg bg-red-50 dark:bg-red-900/40 text-red-600 dark:text-red-400 hover:bg-red-600 hover:text-white transition-all shadow-sm"},[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"size-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)])],8,fe)])])]))),128))]))]),u.value?(a(),o("div",ye,[...t[14]||(t[14]=[e("div",{class:"animate-spin h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full mb-2"},null,-1),e("span",{class:"text-xs font-bold text-blue-600"},"Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...",-1)])])):k("",!0),!u.value&&c.value.length===0?(a(),o("div",ke,[...t[15]||(t[15]=[e("p",{class:"text-lg font-bold"},"âš ï¸ Ù‡ÛŒÚ† Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!",-1)])])):k("",!0)])])])}}},je=N(_e,[["__scopeId","data-v-8f22ebe7"]]);export{je as default};
