import{_,l as B,x as C,A as T,r as x,p as j,c as i,o as l,a as e,y as a,d as b,t as D,g as S,i as G,v as I,q as p,b as y,w as h,e as A,E}from"./BwLa1Iej.js";import{a as k}from"./bE3RgOHv.js";import{S as f}from"./BQxta0Da.js";import{u as N}from"./DBTBYWdU.js";const V={class:"w-full px-4 sm:px-6 py-6 min-h-screen",dir:"rtl"},q={class:"flex justify-between items-center mb-6"},L={class:"font-bold text-blue-600 dark:text-blue-400"},P={key:0,class:"text-center py-12"},R={key:1,class:"w-full max-w-2xl mx-auto"},Z={class:"p-6"},U={class:"mb-6"},F=["disabled"],H={key:0,class:"flex items-center"},J={key:1,class:"flex items-center"},K={class:"w-full grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4"},O={class:"flex flex-col text-right flex-1 min-w-0"},Q={class:"flex-shrink-0 mr-3 sm:mr-4"},W={class:"flex flex-col text-right flex-1 min-w-0"},X={class:"flex-shrink-0 mr-3 sm:mr-4"},Y={__name:"GroupEditSettings",setup(M){const v=B(),m=C(),s=N(),r=T(()=>s.value==="dark"),d=v.params.groupID,u=x(!0),c=x(!1),g=x({name:""}),$=async()=>{try{const o=await k.get(`accounts/group-detail/${d}/`);g.value.name=o.data.name}catch(o){await f.fire({icon:"error",title:"انجام نشد",text:`خطایی رخ داده است ${o}`,timer:2e3,confirmButtonText:"باشه",background:s.value==="dark"?"#1e1e1e":"#fff",color:s.value==="dark"?"#fff":"#000"})}},z=async()=>{c.value=!0;try{await k.patch(`accounts/group-detail/${d}/`,{name:g.value.name}),await f.fire({icon:"success",title:"ذخیره شد",text:"نام گروه با موفقیت تغیر کرد.",confirmButtonText:"عالی",background:s.value==="dark"?"#1e1e1e":"#fff",color:s.value==="dark"?"#fff":"#000"}),m.back()}catch(o){await f.fire({icon:"error",title:"انجام نشد",text:`خطایی رخ داده است ${o}`,timer:2e3,confirmButtonText:"باشه",background:s.value==="dark"?"#1e1e1e":"#fff",color:s.value==="dark"?"#fff":"#000"})}finally{c.value=!1}};return j(async()=>{d?(u.value=!0,await $(),u.value=!1):(u.value=!1,console.warn("Group ID is missing. Cannot fetch group details."))}),(o,t)=>{const w=A;return l(),i("div",V,[e("div",q,[e("h3",{class:a(["flex items-center text-2xl font-extrabold m-0",r.value?"text-gray-100":"text-gray-900"])},[...t[5]||(t[5]=[e("span",{class:"text-blue-600 text-3xl ml-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])],-1),b(" ویرایش تنظیمات گروه ",-1)])],2),e("p",{class:a(["text-sm font-medium",r.value?"text-gray-400":"text-gray-500"])},[t[6]||(t[6]=b(" گروه: ",-1)),e("span",L,D(g.value.name),1)],2)]),u.value?(l(),i("div",P,[t[7]||(t[7]=e("div",{class:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"},null,-1)),e("p",{class:a(["mt-4 text-sm font-semibold",r.value?"text-gray-300":"text-gray-600"])}," در حال دریافت اطلاعات... ",2)])):(l(),i("div",R,[e("div",{class:a(["rounded-2xl shadow-xl border overflow-hidden transition-colors duration-300 mb-6",r.value?"bg-gray-800 border-gray-700":"bg-white border-gray-100"])},[e("div",{class:a(["p-4 border-b",r.value?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"])},[e("h5",{class:a(["font-extrabold text-lg flex items-center",r.value?"text-white":"text-gray-900"])}," اطلاعات پایه ",2)],2),e("div",Z,[e("form",{onSubmit:t[2]||(t[2]=S(n=>z(),["prevent"]))},[e("div",U,[e("label",{class:a(["block text-sm font-bold mb-3",r.value?"text-gray-300":"text-gray-700"])}," نام گروه ",2),e("div",{class:a(["flex items-center border rounded-xl bg-gray-50 focus-within:ring-2 focus-within:ring-blue-200 focus-within:border-blue-500",r.value?"border-gray-700 bg-gray-900":"border-gray-300"])},[G(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>g.value.name=n),type:"text",class:a(["w-full p-3 bg-transparent outline-none text-sm placeholder-gray-500",r.value?"text-white":"text-gray-900"]),placeholder:"مثلاً: مدیران ارشد، تیم فنی...",required:""},null,2),[[I,g.value.name]])],2)]),e("div",{class:a(["flex justify-end items-center mt-6 pt-4 border-t",r.value?"border-gray-700":"border-gray-200"])},[e("button",{type:"button",class:a(["px-4 py-2.5 rounded-xl text-sm font-bold transition-colors duration-200 ml-3",r.value?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"]),onClick:t[1]||(t[1]=n=>p(m).back())}," انصراف ",2),e("button",{type:"submit",class:a(["px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 shadow-lg hover:shadow-xl",["text-white",(r.value,"bg-blue-600 hover:bg-blue-700 shadow-blue-500/50"),c.value?"opacity-70 cursor-not-allowed":"transform hover:scale-[1.01]"]]),disabled:c.value},[c.value?(l(),i("span",H,[...t[8]||(t[8]=[e("span",{class:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full ml-2"},null,-1),b(" در حال ثبت... ",-1)])])):(l(),i("span",J,[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})],-1),b(" ذخیره تغییرات ",-1)])]))],10,F)],2)],32)])],2),e("div",{class:a(["rounded-2xl shadow-xl border overflow-hidden transition-colors duration-300 p-4 sm:p-6",r.value?"bg-gray-800 border-gray-700":"bg-white border-gray-100"])},[e("div",{class:a(["flex items-center mb-4 sm:mb-5 pb-3 border-b",r.value?"border-gray-700":"border-gray-200"])},[e("h5",{class:a(["font-extrabold text-base sm:text-lg",r.value?"text-white":"text-gray-900"])}," بخش‌های مدیریت گروه ",2)],2),e("div",K,[y(w,{to:`/dashboard/system-setting/group/management-group/${p(d)}`,class:"block w-full"},{default:h(()=>[e("button",{onClick:t[3]||(t[3]=(...n)=>o.navigateToPermissions&&o.navigateToPermissions(...n)),class:a(["w-full mx-auto management-card transition-all duration-300 p-4 sm:p-5 rounded-xl text-right flex justify-between items-center group shadow-md hover:shadow-lg",r.value?"bg-gray-700 hover:bg-blue-900/40 border border-gray-600":"bg-blue-50 hover:bg-blue-100 border border-blue-200"])},[e("div",O,[e("span",{class:a(["font-bold text-sm sm:text-base mb-1 truncate",r.value?"text-blue-300":"text-blue-700"])}," مدیریت دسترسی‌ها ",2),t[10]||(t[10]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 truncate"}," تخصیص مجوزهای خاص به این گروه ",-1))]),e("div",Q,[(l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:a(["w-6 h-6 sm:w-7 sm:h-7 text-blue-500 dark:text-blue-400 group-hover:scale-110 transition-transform",r.value?"text-blue-400":"text-blue-500"])},[...t[11]||(t[11]=[e("path",{"fill-rule":"evenodd",d:"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08zm3.094 8.016a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z","clip-rule":"evenodd"},null,-1)])],2))])],2)]),_:1},8,["to"]),y(w,{to:`/dashboard/system-setting/group/group-update/${p(d)}`,class:"block w-full"},{default:h(()=>[e("button",{onClick:t[4]||(t[4]=(...n)=>o.navigateToMembers&&o.navigateToMembers(...n)),class:a(["w-full mx-auto management-card transition-all duration-300 p-4 sm:p-5 rounded-xl text-right flex justify-between items-center group shadow-md hover:shadow-lg",r.value?"bg-gray-700 hover:bg-green-900/40 border border-gray-600":"bg-green-50 hover:bg-green-100 border border-green-200"])},[e("div",W,[e("span",{class:a(["font-bold text-sm sm:text-base mb-1 truncate",r.value?"text-green-300":"text-green-700"])}," مدیریت اعضای گروه ",2),t[12]||(t[12]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 truncate"}," افزودن یا حذف کاربران از این گروه ",-1))]),e("div",X,[(l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:a(["w-6 h-6 sm:w-7 sm:h-7 text-green-500 dark:text-green-400 group-hover:scale-110 transition-transform",r.value?"text-green-400":"text-green-500"])},[...t[13]||(t[13]=[e("path",{"fill-rule":"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z","clip-rule":"evenodd"},null,-1),e("path",{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"},null,-1)])],2))])],2)]),_:1},8,["to"])])],2)]))])}}},ee=_(Y,[["__scopeId","data-v-096a5184"]]),te={};function re(M,v,m,s,r,d){const u=ee;return l(),E(u)}const ne=_(te,[["render",re]]);export{ne as default};
